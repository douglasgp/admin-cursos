<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
               	xmlns:f="http://java.sun.com/jsf/core">

<section class="content-header" style="padding-left: 0px">
    <h1 >Dashboard Financeiro (projeto Residencia)
        <small>(Copied from <a href="https://almsaeedstudio.com/themes/AdminLTE/index2.html" target="_blank">Admin LTE</a>)</small>
    </h1>
</section>
<p:spacer height="15px"/>
<div class="row">
<div class="col-md-3 col-sm-6 col-xs-12">
    <div class="info-box">

        <span class="info-box-icon bg-aqua">
        	<a href="#">
        		<i class="fa fa-motorcycle"></i>
        	</a>
        </span>

        <div class="info-box-content">
            <span class="info-box-text">Combustivel</span>
            <span class="info-box-number">90<small>%</small></span>
        </div>
        <!-- /.info-box-content -->
    </div>
    <!-- /.info-box -->
</div>
<!-- /.col -->
<div class="col-md-3 col-sm-6 col-xs-12">
    <div class="info-box">
        <span class="info-box-icon bg-red"><i class="fa fa-stack-overflow"></i></span>

        <div class="info-box-content">
            <span class="info-box-text">Freelance</span>
            <span class="info-box-number">41,410</span>
        </div>
        <!-- /.info-box-content -->
    </div>
    <!-- /.info-box -->
</div>
<!-- /.col -->

<!-- fix for small devices only -->
<div class="clearfix visible-sm-block"></div>

<div class="col-md-3 col-sm-6 col-xs-12">
    <div class="info-box">
        <span class="info-box-icon bg-green"><i class="fa fa-cutlery"></i></span>

        <div class="info-box-content">
            <span class="info-box-text">Alimentação</span>
            <span class="info-box-number">760</span>
        </div>
        <!-- /.info-box-content -->
    </div>
    <!-- /.info-box -->
</div>
<!-- /.col -->
<div class="col-md-3 col-sm-6 col-xs-12">
    <div class="info-box">
        <span class="info-box-icon bg-yellow"><i class="fa fa-line-chart "></i></span>

        <div class="info-box-content">
            <span class="info-box-text">Investimentos</span>
            <span class="info-box-number">2,000</span>
        </div>
        <!-- /.info-box-content -->
    </div>
    <!-- /.info-box -->
</div>
<!-- /.col -->
</div>
        <!-- /.row -->

<div class="row">
<div class="col-md-12">
    <div class="box">
        <div class="box-header with-border">
            <h3 class="box-title">Monthly Recap Report</h3>

            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                </button>
                <div class="btn-group">
                    <button type="button" class="btn btn-box-tool dropdown-toggle" data-toggle="dropdown">
                        <i class="fa fa-wrench"></i></button>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                    </ul>
                </div>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
            </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body" style="display: block;">
            <div class="row">
                <div class="col-md-8">
                    <p class="text-center">
                        <strong>Sales: 1 Jan, 2014 - 30 Jul, 2014</strong>
                    </p>

                    <div class="chart">
                        <!-- Sales Chart Canvas -->
                        <canvas id="salesChart" style="height: 180px"></canvas>
                    </div>
                    <!-- /.chart-responsive -->
                </div>
                <!-- /.col -->
                <div class="col-md-4">
                    <p class="text-center">
                        <strong>Goal Completion</strong>
                    </p>

                    <div class="progress-group">
                        <span class="progress-text">Add Products to Cart</span>
                        <span class="progress-number"><b>160</b>/200</span>

                        <div class="progress sm">
                            <div class="progress-bar progress-bar-aqua" style="width: 80%"></div>
                        </div>
                    </div>
                    <!-- /.progress-group -->
                    <div class="progress-group">
                        <span class="progress-text">Complete Purchase</span>
                        <span class="progress-number"><b>310</b>/400</span>

                        <div class="progress sm">
                            <div class="progress-bar progress-bar-red" style="width: 80%"></div>
                        </div>
                    </div>
                    <!-- /.progress-group -->
                    <div class="progress-group">
                        <span class="progress-text">Visit Premium Page</span>
                        <span class="progress-number"><b>480</b>/800</span>

                        <div class="progress sm">
                            <div class="progress-bar progress-bar-green" style="width: 80%"></div>
                        </div>
                    </div>
                    <!-- /.progress-group -->
                    <div class="progress-group">
                        <span class="progress-text">Send Inquiries</span>
                        <span class="progress-number"><b>250</b>/500</span>

                        <div class="progress sm">
                            <div class="progress-bar progress-bar-yellow" style="width: 80%"></div>
                        </div>
                    </div>
                    <!-- /.progress-group -->
                </div>
                <!-- /.col -->
            </div>
            <!-- /.row -->
        </div>
        <!-- ./box-body -->
        <div class="box-footer" style="display: block;">
            <div class="row">
                <div class="col-sm-3 col-xs-6">
                    <div class="description-block border-right">
                        <span class="description-percentage text-green"><i class="fa fa-caret-up"></i> 17%</span>
                        <h5 class="description-header">$35,210.43</h5>
                        <span class="description-text">TOTAL REVENUE</span>
                    </div>
                    <!-- /.description-block -->
                </div>
                <!-- /.col -->
                <div class="col-sm-3 col-xs-6">
                    <div class="description-block border-right">
                        <span class="description-percentage text-yellow"><i class="fa fa-caret-left"></i> 0%</span>
                        <h5 class="description-header">$10,390.90</h5>
                        <span class="description-text">TOTAL COST</span>
                    </div>
                    <!-- /.description-block -->
                </div>
                <!-- /.col -->
                <div class="col-sm-3 col-xs-6">
                    <div class="description-block border-right">
                        <span class="description-percentage text-green"><i class="fa fa-caret-up"></i> 20%</span>
                        <h5 class="description-header">$24,813.53</h5>
                        <span class="description-text">TOTAL PROFIT</span>
                    </div>
                    <!-- /.description-block -->
                </div>
                <!-- /.col -->
                <div class="col-sm-3 col-xs-6">
                    <div class="description-block">
                        <span class="description-percentage text-red"><i class="fa fa-caret-down"></i> 18%</span>
                        <h5 class="description-header">1200</h5>
                        <span class="description-text">GOAL COMPLETIONS</span>
                    </div>
                    <!-- /.description-block -->
                </div>
            </div>
            <!-- /.row -->
        </div>
        <!-- /.box-footer -->
    </div>
    <!-- /.box -->
</div>
<!-- /.col -->
</div>
<h:form>

	<p:growl showDetail="true" life="2000" severity="info">
		<p:autoUpdate />
	</p:growl>
	<p:growl showDetail="true" life="2000" severity="warn">
		<p:autoUpdate />
	</p:growl>
	<p:outputPanel>
	<p:panel id="pnlListaDesp" header="Lista de Despesas"
			style="margin-bottom:20px" styleClass="box-teal box-solid">
			<p:toolbar>
				<p:toolbarGroup align="right">
					<p:commandButton value="Nova" icon="fa fa-file-text-o" styleClass="btn-primary"
						title="Nova despesa" action="#{contabilidadeMB.novaDespesa()}">
					</p:commandButton>
				</p:toolbarGroup>
			</p:toolbar>
			<p:dataTable id="tblCatDespesa" widgetVar="tblDespesa"
				emptyMessage="Nenhum registro encontrado com os critérios de busca"
				value="#{contabilidadeMB.listaContabilidade}" var="d"
				paginator="true" rowKey="#{d.id}"
				class="table table-striped table-hover table-bordered" rows="6">

				<p:column headerText="ID" sortBy="#{d.id}">
					<p:outputLabel value="#{d.id}" />
				</p:column>
				<p:column headerText="Nome" sortBy="#{d.nome}">
					<p:outputLabel value="#{d.nome}" />
				</p:column>
				<p:column headerText="Valor" sortBy="#{d.valor}">
					<p:outputLabel value="#{d.valor}" />
				</p:column>
				<p:column headerText="Date" sortBy="#{d.data}">
					<p:outputLabel value="#{d.data}" />
				</p:column>
				<p:column headerText="Status" sortBy="#{d.idStatusContabil}">
					<p:outputLabel value="#{d.idStatusContabil}" />
				</p:column>
				<p:column headerText="Ação">
					<p:commandButton value="Editar" class="btn btn-warning btn-sm"
						action="#{contabilidadeMB.formularioContabil(d)}" />
					<!-- update=":frmDespesa:pnlCadDesp"  -->
					<p:commandButton value="Excluir" class="btn btn-danger btn-sm"
						update="@(div[id$=formDelDespesa])"
						onclick="PF('modalDelDespesa').show()"
						action="#{contabilidadeMB.editaContabilidade(d)}" />

					<!-- MODAL remove despesa -->
					<p:dialog header="Nova Despesa" widgetVar="modalDelDespesa"
						position="center" responsive="true" modal="true"
						appendTo="@(body)" width="500px"
						styleClass="card box-primary box-solid">
						<p:panel id="formDelDespesa">
							<p:panelGrid columns="3" id="pnlDelDespesa" layout="grid">
								<h:panelGroup>
									<div class="p-field p-col-1 p-md-3">
										<p:outputLabel value="Cod. Contabil: " />
										<p:outputLabel id="idContabilDel"
											value="#{contabilidadeMB.contabilidade.id}" />
									</div>
								</h:panelGroup>
								<p:spacer width="20px" />
								<h:panelGroup>
									<div class="p-field p-col-1 p-md-3">
										<p:outputLabel value="Título da despesa: " />
										<p:outputLabel id="nomeContabilDel"
											value="#{contabilidadeMB.contabilidade.nome}" />
									</div>
								</h:panelGroup>

								<h:panelGroup>
									<div class="p-field p-col-1 p-md-3">
										<p:outputLabel value="Valor: " />
										<p:outputLabel id="valorContabilDel"
											value="#{contabilidadeMB.contabilidade.valor}" />
									</div>
								</h:panelGroup>

								<h:panelGroup>
									<div class="p-field p-col-1 p-md-3">
										<p:outputLabel value="Data: " />
										<p:outputLabel id="dataContabilDel"
											value="#{contabilidadeMB.contabilidade.data}" />
									</div>
								</h:panelGroup>
							</p:panelGrid>
							<p:spacer width="20px" />
							<!-- BOTÕES -->
							<h:panelGroup>
								<p:commandButton value="Salvar" class="btn btn-primary"
									onclick="PF('modalDelDespesa').hide()" update="@form" />
								<p:commandButton value="Cancelar" class="btn btn-warning"
									onclick="PF('modalDelDespesa').hide()" />
							</h:panelGroup>
						</p:panel>
					</p:dialog>

				</p:column>
			</p:dataTable>
		</p:panel>
	</p:outputPanel>
</h:form>
	
        <!-- /.row -->
<h:outputScript library="js" name="chart.min.js"/>
<script type="text/javascript">
//<![CDATA[
$(function () {

    'use strict';

    /* ChartJS
     * -------
     * Here we will create a few charts using ChartJS
     */

    //-----------------------
    //- MONTHLY SALES CHART -
    //-----------------------

    // Get context with jQuery - using jQuery's .get() method.
    var salesChartCanvas = $("#salesChart").get(0).getContext("2d");
    // This will get the first returned node in the jQuery collection.
    var salesChartData = {
        labels: ["January", "February", "March", "April", "May", "June", "July"],
        datasets: [
            {
                label: "Electronics",
                fillColor: "rgb(210, 214, 222)",
                strokeColor: "rgb(210, 214, 222)",
                pointColor: "rgb(210, 214, 222)",
                pointStrokeColor: "#c1c7d1",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(220,220,220)",
                data: [65, 59, 80, 81, 56, 55, 40]
            },
            {
                label: "Digital Goods",
                fillColor: "rgba(60,141,188,0.9)",
                strokeColor: "rgba(60,141,188,0.8)",
                pointColor: "#3b8bba",
                pointStrokeColor: "rgba(60,141,188,1)",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgba(60,141,188,1)",
                data: [28, 48, 40, 19, 86, 27, 90]
            }
        ]
    };



    //Create the line chart
    createLineChart(salesChartCanvas,salesChartData);

    //---------------------------
    //- END MONTHLY SALES CHART -
    //---------------------------


});
//]]>
</script>

</ui:composition>